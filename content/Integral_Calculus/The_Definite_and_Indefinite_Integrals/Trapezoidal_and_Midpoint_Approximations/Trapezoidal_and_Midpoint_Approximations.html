<div class='latex_section'>
	Trapezoidal Approximation
</div>
<div class='latex_body'>
	Observe the following setup of finding the area using trapezoids instead of rectangles:
	<div class='latex_equation'>
		<img src="/content/Integral_Calculus/The_Definite_and_Indefinite_Integrals/Trapezoidal_and_Midpoint_Approximations/Trapezoidal_and_Midpoint_Approximations.png">
	</div>
	For any of these trapezoids the area can be defined as:
	<div class='latex_equation'>
		$\eqalign{
			\text{Area} = f(x_i) \Delta x + \frac{1}{2} (f(x_{i+1}) - f(x_i)) \Delta x = \frac{f(x_{i+1}) + f(x_i)}{2} \Delta x
		}$
	</div>
	where
	<div class='latex_equation'>
		$\eqalign{
			\Delta x = \frac{b-a}{n}
		}$
	</div>
	and the setup is based on finding the area of the rectangle that makes up
	the lower half of the trapezoid plus the triangle area for the top half.
	So overall the trapezoidal approximation can be written as:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_T(n) = \sum_{i=0}^{n-1} \frac{f(x_{i+1}) + f(x_i)}{2} \Delta x
		}$
	</div>
	where the top limit of the sum is $n-1$ instead of $n$ because we do not want $f(x_{i+1})$ to go over.
	Now while there is nothing wrong with the formula above, this area can be defined in terms of
	the left and right approximations by some algebraic manipulation:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_T(n) &= \sum_{i=0}^{n-1} \frac{f(x_{i+1}) + f(x_i)}{2} \Delta x \\
			&= \frac{1}{2} \Big[ \sum_{i=0}^{n-1} f(x_{i+1}) \Delta x + \sum_{i=0}^{n-1} f(x_i) \Delta x \Big] \\
			&= \frac{1}{2} \Big[ \sum_{k=1}^n f(x_k) \Delta x + \sum_{i=0}^{n-1} f(x_i) \Delta x \Big] \\
			&= \frac{1}{2} \Big( \textbf{Area}_R(n) + \textbf{Area}_L(n) \Big)
		}$
	</div>
</div>

<div class='latex_section'>
	Midpoint Approximation
</div>
<div class='latex_body'>
	Now back to using rectangles for approximations again. The one thing that distinguishes
	the left and right approximations is the choice of the point on the rectangle. In the
	case of the left approximations we choose the left endpoint, and for right approximations
	the right endpoint. So what would happen if the middle of the two was chosen instead? This
	is precisely the motivation behind the midpoint approximation. To be formal:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_M(n) = \sum_{i=0}^{n-1} f\Big( \frac{x_{i+1} + x_i}{2} \Big) \Delta x
		}$
	</div>
</div>

<div class='latex_section'>
	Comparison of Trapezoidal Approximation to Left and Right Approximations
</div>
<div class='latex_body'>
	If $\textbf{Area}_L(n) \leq \textbf{Area}_R(n)$:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_L(n) \leq \frac{1}{2} \Big( \textbf{Area}_L(n) + \textbf{Area}_L(n) \Big) \leq \frac{1}{2} \Big( \textbf{Area}_R(n) + \textbf{Area}_L(n) \Big) \leq \frac{1}{2} \Big( \textbf{Area}_R(n) + \textbf{Area}_R(n) \Big) \leq \textbf{Area}_R(n)
		}$
	</div>
	On the other hand if $\textbf{Area}_R(n) \leq \textbf{Area}_L(n)$:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_R(n) \leq \frac{1}{2} \Big( \textbf{Area}_R(n) + \textbf{Area}_R(n) \Big) \leq \frac{1}{2} \Big( \textbf{Area}_R(n) + \textbf{Area}_L(n) \Big) \leq \frac{1}{2} \Big( \textbf{Area}_L(n) + \textbf{Area}_L(n) \Big) \leq \textbf{Area}_L(n)
		}$
	</div>
</div>

<div class='latex_section'>
	Comparison of Midpoint Approximation to Left and Right Approximations
</div>
<div class='latex_body'>
	If $\textbf{Area}_L(n) \leq \textbf{Area}_R(n)$:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_L(n) = \sum_{i=0}^{n-1} f(x_i) \Delta x \leq \sum_{i=0}^{n-1} f\Big( \frac{x_{i+1} + x_i}{2} \Big) \Delta x \leq \sum_{i=0}^{n-1} f(x_{i+1}) \Delta x = \textbf{Area}_R(n)
		}$
	</div>
	On the other hand if $\textbf{Area}_R(n) \leq \textbf{Area}_L(n)$:
	<div class='latex_equation'>
		$\eqalign{
			\textbf{Area}_R(n) = \sum_{i=0}^{n-1} f(x_{i+1}) \Delta x \leq \sum_{i=0}^{n-1} f\Big( \frac{x_{i+1} + x_i}{2} \Big) \Delta x \leq \sum_{i=0}^{n-1} f(x_i) \Delta x = \textbf{Area}_L(n)
		}$
	</div>
</div>

<div class='latex_section'>
	Comparison of Approximations
</div>
<div class='latex_body'>
	To begin, it is interesting to ask between the trapezoidal and midpoint approximations, 
	which overestimates and which underestimates the area? Unlike the left and right approximations
	where this depended on the monotonic behavior of the function, for the comparison of the midpoint
	and trapezoidal rules we need something else. This happens to be the concavity of the function. 
	If a function is concave up similar to the function above on the range $[x_3,x_6]$, the trapezoid
	approximation is an overestimate, the midpoint an underestimate. On the other hand if a function is
	concave down like the function in the above diagram on the range $[x_0,x_3]$, the trapezoid approximation
	is an underestimate, the midpoint an overestimate. So to sum up:
	<br>
	<table>
    	<tr>
	    	<td>$\textbf{Area}_L(n)$</td>
		    <td>$\textbf{Concave Up}$</td>
		    <td>$\textbf{Concave Down}$</td>
		</tr>
		<tr>
		    <td>$\textbf{Increasing}$</td>
		    <td>Underestimate</td>
		    <td>Underestimate</td>
	    </tr>
	    <tr>
		    <td>$\textbf{Decreasing}$</td>
		    <td>Overestimate</td>
		    <td>Overestimate</td>
	    </tr>
	</table>
	<br>
	<table>
    	<tr>
	    	<td>$\textbf{Area}_R(n)$</td>
		    <td>$\textbf{Concave Up}$</td>
		    <td>$\textbf{Concave Down}$</td>
		</tr>
		<tr>
		    <td>$\textbf{Increasing}$</td>
		    <td>Overestimate</td>
		    <td>Overestimate</td>
	    </tr>
		<tr>
		    <td>$\textbf{Decreasing}$</td>
		    <td>Underestimate</td>
		    <td>Underestimate</td>
	    </tr>
	</table>
	<br>
	<table>
    	<tr>
	    	<td>$\textbf{Area}_T(n)$</td>
		    <td>$\textbf{Concave Up}$</td>
		    <td>$\textbf{Concave Down}$</td>
		</tr>
		<tr>
		    <td>$\textbf{Increasing}$</td>
		    <td>Overestimate</td>
		    <td>Underestimate</td>
	    </tr>
		<tr>
		    <td>$\textbf{Decreasing}$</td>
		    <td>Overestimate</td>
		    <td>Underestimate</td>
	    </tr>
	</table>
	<br>
	<table>
    	<tr>
	    	<td>$\textbf{Area}_M(n)$</td>
		    <td>$\textbf{Concave Up}$</td>
		    <td>$\textbf{Concave Down}$</td>
		</tr>
		<tr>
		    <td>$\textbf{Increasing}$</td>
		    <td>Underestimate</td>
		    <td>Overestimate</td>
	    </tr>
		<tr>
		    <td>$\textbf{Decreasing}$</td>
		    <td>Underestimate</td>
		    <td>Overestimate</td>
	    </tr>
	</table>
</div>